<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<head>
    <title>WA_LAB07</title>
    <style>
        h2 {
            color:rgb(255, 0, 157);
            font-family: Georgia, 'Times New Roman', Times, serif;
            text-align: left;
        }

        p {
            color: rgb(192, 255, 208);
            font-family: Arial, Helvetica, sans-serif;
            font-size: 20px;

        }

        div {
            color:rgb(128, 0, 43);
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        #locations, #penalty, #help {
            color:rgb(43, 0, 255);
            font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;

        }
    </style>
</head>

<body>
    <h1>Find the treasure by Mayur Komaravelly</h1>
    <p>Click on the locations to search for treasure, beware the traps</p>
    <p id="locations">Number of locations checked is zero</p>
    <p id="penalty">Penalty is zero</p>
    <p>Click for help</p>
    <p id="help">Help report</p><br>

    <div class="grid-container">
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location" id="0" onclick="check(0)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location2" id="1" onclick="check(1)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location3" id="2" onclick="check(2)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location4" id="3" onclick="check(3)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location5" id="4" onclick="check(4)">
        </div>
    </div>

    <div class="grid-container">
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location" id="5" onclick="check(5)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location2" id="6" onclick="check(6)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location3" id="7" onclick="check(7)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location4" id="8" onclick="check(8)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location5" id="9" onclick="check(9)">
        </div>
    </div>

    <div class="grid-container">

        <div class="grid-item">
            <img src="T1.jpg" alt=" Location" id="10" onclick="check(10)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location2" id="11" onclick="check(11)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location3" id="12" onclick="check(12)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location4" id="13" onclick="check(13)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location5" id="14" onclick="check(14)">
        </div>
    </div>

    <div class="grid-container">

        <div class="grid-item">
            <img src="T1.jpg" alt=" Location" id="15" onclick="check(15)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location2" id="16" onclick="check(16)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location3" id="17" onclick="check(17)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location4" id="18" onclick="check(18)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location5" id="19" onclick="check(19)">
        </div>
    </div>

    <div class="grid-container">

        <div class="grid-item">
            <img src="T1.jpg" alt=" Location" id="20" onclick="check(20)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location2" id="21" onclick="check(21)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location3" id="22" onclick="check(22)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location4" id="23" onclick="check(23)">
        </div>
        <div class="grid-item">
            <img src="T1.jpg" alt=" Location5" id="24" onclick="check(24)">
        </div>
    </div>

    <script>

        checkCount = 0;
        penalty = 0;
        lastCheck = 0;
        treasureLocation = 5;
        trapLocation = 18,
            ids = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24"]
        gameOver = false;
        function check(position) {
            if (gameOver) return;
            const id = ids[position];
            const image = document.getElementById(id);
            console.log(image)
            console.log(id)
            if (position == treasureLocation) {
                image.src = "T1.jpg";
                gameOver = true;
                penalty -= 3;
            } else if (position == trapLocation) {
                image.src = "trap.jpg";
                gameOver = true;
                penalty += 4;
            } else {
                image.src = "pirate.JPG";
            }
            checkCount++;
            penalty++;
            document.getElementById("locations").innerHTML = `Locations: ${checkCount}`;
            document.getElementById("penalty").innerHTML = `Penalty: ${penalty}`;
            lastCheck = position;
        }
        document.getElementById("help_id").onclick = help;
        function help() {
            const tresRow = Math.floor(treasureLocation / 5);
            const tresCol = treasureLocation % 5;
            const lrow = Math.floor(lastCheck / 5);
            const lcol = lastCheck % 5;
            if (
                Math.abs(tresRow - lrow) + Math.abs(tresCol - lcol) == 1
            ) {
                document.getElementById("help_id").innerText = "Can smell it";
                document.getElementById("help_id").style.color = "red";
            }
            else if (
                Math.abs(tresRow - lrow) + Math.abs(tresCol - lcol) == 2
            ) {
                document.getElementById("help_id").innerText = "Close Matie";
                document.getElementById("help_id").style.color = "orange";
            } else {
                document.getElementById("help_id").innerText = "Step Faster";
                document.getElementById("help_id").style.color = "black";
            }
            penalty += 2;
            document.getElementById("penalty").innerText = `Penalty: ${penalty}`;
        }

    </script>
    <script>
        let ids =[]
        for(let i=0;i<25;i++)
        {
          ids[i]=i;
        }
        let checkCount = 0
        let penalty = 0
        let lastCheck = 0
        let treasureLocation = 5
        let trapLocation = 18
        let gameOver = false
        function check(p)
        {
          if(gameOver)
          {
            return
          }
          const img_id = ids[p]
          tre_loc_img = document.getElementById(img_id)
          if(p==treasureLocation)
          {
            tre_loc_img.src = "T1.jpg"
            gameOver=true
            penalty = penalty-3
          }
          else if (p== trapLocation)
          {
            tre_loc_img.src = "trap.jpg"
            gameOver=true
            penalty=penalty+3
          }
          else
          {
            tre_loc_img.src="pirate.jpg"
          }
          checkCount=checkCount+1
          penalty=penalty+1
          loc_text = document.getElementById("locations")
          loc_text.innerHTML = `Number of locations checked is ${checkCount}`
          pen_text = document.getElementById("penalty")
          pen_text.innerHTML=`Penalty is ${penalty}`
          lastCheck=p
      
        }
        function help()
        {
          let col = lastCheck%5
          let row = Math.floor(lastCheck/5)
      
          let treasureCol = treasureLocation%5
          let treasureRow = Math.floor(treasureLocation/5)
      
          let col_diff = Math.abs(col-treasureCol) 
          let row_diff = Math.abs(row-treasureRow)
      
          let report = ""
      
          if(((col_diff<=1)&&(row_diff==0))||((col_diff==0)&&(row_diff<=1)))
          {
            report = "Can smell it"
          }
          else if(Math.abs(row - treasureRow) + Math.abs(col - treasureCol)===2)
          {
            report = "Close Matie"
          }
          else
          {
            report = "Step Faster"
          }
          penalty=penalty+2
          pen_text = document.getElementById("penalty")
          pen_text.innerHTML=`Penalty is ${penalty}`
          help_text = document.getElementById("help")
          help_text.innerHTML=`Help report ${report}`
        }
        
    </script>



</body>

</html>